# YouTube 암호화 분석
## player cipher js (210625 기준)
```https://www.youtube.com/s/player/b4c937ab/player_ias.vflset/ko_KR/base.js```
## function
|function|value|reference|
|------|---|---|
|`splice`|`IF`|`signature.splice(0, n);`|
|`reverse`|`vg`|`signature.reverse();`|
|`swap`|`fl`|`[signature[0], signature[n % signature.length]] = [signature[n % signature.length], signature[0]]`|
### generated code
```js
pB.vg(a, 47); // vg (reverse)
pB.fl(a, 45); // fl (swap)
pB.fl(a, 32); // fl (swap)
```
### final code
```js
/**
 * Decrypts encrypted cipher signature.
 * @param {string} signature encrypted cipher string
 * @returns decrypted signature
 */
function decrypt(signature) {
    // Split signature string to char array.
    const sig = [...signature];
    // vg (reverse) char array
    // even 47 is an unnecessary number
    // 배열 뒤집기
    sig.reverse();
    // fl (swap) char array
    // Swap char array by 45.
    // 배열을 45만큼 swap하기
    [sig[0], sig[45 % sig.length]] = [sig[45 % sig.length], sig[0]];
    // fl (swap) char array
    // Swap char array by 32.
    // 배열을 32만큼 swap하기
    [sig[0], sig[32 % sig.length]] = [sig[32 % sig.length], sig[0]];
    // Finally, join char array as string.
    // 마지막으로, 배열을 string으로 join하기
    return sig.join("");
}
```
## TODO
바뀔 코드에 대비하여 추후 수시로 분석 예정
